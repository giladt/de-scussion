<template>
  <nav class="navbar">
    <h1>${title}</h1>
    <div if.bind="!wallet.address" class="wallet">
      <button click.trigger="connect()">Connect to wallet</button>
    </div>
    <div else>
      <p>
        ${wallet.address}
      </p>
    </div>
  </nav>
  <div class="messages">
    <ul>
      <li repeat.for="message of messages">
        <p>
          <img if.to-view="message.profile" src="${ message.profile.image }" width="40" alt.bind="message.profile.name">
          <img else src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png" width="40" alt.bind="message.author">
          <span if.to-view="message.profile" class="name">${message.profile.name}&nbsp;</span>
          <span if.to-view="message.author" class="address">${message.author}</spani>
        </p>
        <p class.bind="message.author === wallet.address? 'me':'other'" innerhtml.bind="message.text"></p>
      </li>
    </ul>
  </div>
  <div class="form">
    <textarea 
      ref="inputRef"
      rows="5" 
      value.bind="message"
      placeholder="Type your comment here..."
      class="text">
    </textarea>
    <button disabled.bind="!message.length" class="send" click.trigger="addMessage()">Send<br><small>(or press- 'Shift + Enter')</small></button>
  </div>
</template>
